{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Region knowledge
{% endblock %}


{% block content %}
    <link href="https://unpkg.com/survey-core@1.8.76/modern.min.css" type="text/css" rel="stylesheet"/>

    <style>
        label.btn.btn-default.btn-secondary.active {
            background: yellow;
            color: black;
        }

    </style>
    <script src="https://unpkg.com/survey-jquery@1.8.70/survey.jquery.min.js"></script>

    <div id="surveyElement" style="display:inline-block;width:100%;"></div>
    <div id="surveyResult"></div>
    <input type="hidden" id="surveyholder" name="surveyholder">
    <script>
        Survey.defaultBootstrapCss.navigationButton = "btn-primary btn-lg";
        Survey
            .StylesManager
            .applyTheme("modern");

        var json = {
                showQuestionNumbers: "off",
                questions: [

                    {
                        type: "matrixdropdown",
                        name: "region_knowledge",
                        title: " Из каких источников вам известно о следующих регионах России (возможно выбрать  несколько ответов):",
                        columns: [
                            {
                                name: "col1",
                                cellType: "checkbox",
                                showInMultipleColumns: true,
                                hasNone: true,
                                noneText: 'Ничего не знаю о регионе',
                                choices: [
                                    'Я живу/жил/посещал этот регион',
                                    'От родственников и друзей',
                                    'Из социальных сетей ',
                                    'Из СМИ',
                                    'Другое'


                                ],
                            },
                        ],
                        rows: [
                            {value: "Akrhangelsk", text: 'Архангельская область'},
                            {value: "Moscow", text: 'Москова'},
                            {value: "Voronezh", text: 'Воронежская область'},
                        ],
                    },
                ],
            }
        ;


        window.survey = new Survey.Model(json);

        survey
            .onComplete
            .add(function (sender) {
                document
                $('#surveyholder').val(JSON.stringify(sender.data, null, 3))
                $('#form').submit()
                ;
            });

        $("#surveyElement").Survey({model: survey});
        ;
    </script>


{% endblock %}
